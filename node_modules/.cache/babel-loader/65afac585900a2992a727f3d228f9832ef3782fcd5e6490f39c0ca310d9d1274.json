{"ast":null,"code":"var _jsxFileName = \"/Users/kakalee/Desktop/May projects/lucky-star-jar/src/StarJar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst compliments = [{\n  text: '1 Humble',\n  image: '/stars/pink.png'\n}, {\n  text: '2 Sincerity',\n  image: '/stars/blue.png'\n}, {\n  text: '3 Patient',\n  image: '/stars/purple.png'\n}, {\n  text: '4 smart',\n  image: '/stars/yellow.png'\n}, {\n  text: '5 愈挫愈強',\n  image: '/stars/green.png'\n}];\nexport default function StarJar() {\n  _s();\n  const [drawnStars, setDrawnStars] = useState([]);\n  const controls = useAnimation();\n  const mounted = useRef(false);\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem('drawnStars') || '[]');\n    setDrawnStars(saved);\n    mounted.current = true;\n  }, []);\n  const saveToLocalStorage = stars => {\n    localStorage.setItem('drawnStars', JSON.stringify(stars));\n    const unlocked = stars.map(s => s.text);\n    localStorage.setItem('unlockedCompliments', JSON.stringify(unlocked));\n  };\n  const makeWish = async () => {\n    if (drawnStars.length >= compliments.length) return;\n    const remaining = compliments.filter(c => !drawnStars.find(s => s.text === c.text));\n    const random = remaining[Math.floor(Math.random() * remaining.length)];\n    const newStars = [...drawnStars, random];\n    setDrawnStars(newStars);\n    saveToLocalStorage(newStars);\n    await shake();\n  };\n  const shake = async () => {\n    if (!mounted.current) return;\n    await controls.start({\n      rotate: [0, -10, 10, -10, 10, 0],\n      transition: {\n        duration: 0.6\n      }\n    });\n  };\n  const resetJar = () => {\n    setDrawnStars([]);\n    localStorage.removeItem('drawnStars');\n    localStorage.removeItem('unlockedCompliments');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center px-4 py-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mb-6\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        animate: controls,\n        className: \"relative w-40 h-60 sm:w-48 sm:h-72\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/jar.png\",\n          alt: \"Jar\",\n          className: \"w-full h-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), drawnStars.map((star, i) => /*#__PURE__*/_jsxDEV(motion.img, {\n          src: star.image,\n          alt: star.text,\n          className: \"absolute w-8 h-8\",\n          style: {\n            top: `${30 + Math.random() * 80}px`,\n            left: `${30 + Math.random() * 80}px`\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center space-x-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-pink-200 hover:bg-pink-300 text-sm px-4 py-1 rounded-full\",\n        onClick: shake,\n        children: \"Shake me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-gradient-to-r from-pink-300 to-purple-300 hover:opacity-90 text-white text-sm px-6 py-2 rounded-full\",\n        onClick: makeWish,\n        children: \"Make a wish! \\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-gray-300 hover:bg-gray-400 text-sm px-4 py-1 rounded-full\",\n        onClick: resetJar,\n        children: \"Reset Jar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), drawnStars.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-pink-700 font-bold text-lg mt-4\",\n      children: [\"\\u2728 \", drawnStars[drawnStars.length - 1].text, \" \\u2728\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(StarJar, \"iOtJCpyHfo3Sjs4C7K9Bv5Ul+4Q=\", false, function () {\n  return [useAnimation];\n});\n_c = StarJar;\nvar _c;\n$RefreshReg$(_c, \"StarJar\");","map":{"version":3,"names":["React","useEffect","useRef","useState","motion","useAnimation","jsxDEV","_jsxDEV","compliments","text","image","StarJar","_s","drawnStars","setDrawnStars","controls","mounted","saved","JSON","parse","localStorage","getItem","current","saveToLocalStorage","stars","setItem","stringify","unlocked","map","s","makeWish","length","remaining","filter","c","find","random","Math","floor","newStars","shake","start","rotate","transition","duration","resetJar","removeItem","className","children","div","animate","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","star","i","img","style","top","left","onClick","_c","$RefreshReg$"],"sources":["/Users/kakalee/Desktop/May projects/lucky-star-jar/src/StarJar.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\n\nconst compliments = [\n  { text: '1 Humble', image: '/stars/pink.png' },\n  { text: '2 Sincerity', image: '/stars/blue.png' },\n  { text: '3 Patient', image: '/stars/purple.png' },\n  { text: '4 smart', image: '/stars/yellow.png' },\n  { text: '5 愈挫愈強', image: '/stars/green.png' },\n];\n\nexport default function StarJar() {\n  const [drawnStars, setDrawnStars] = useState([]);\n  const controls = useAnimation();\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem('drawnStars') || '[]');\n    setDrawnStars(saved);\n    mounted.current = true;\n  }, []);\n\n  const saveToLocalStorage = (stars) => {\n    localStorage.setItem('drawnStars', JSON.stringify(stars));\n    const unlocked = stars.map((s) => s.text);\n    localStorage.setItem('unlockedCompliments', JSON.stringify(unlocked));\n  };\n\n  const makeWish = async () => {\n    if (drawnStars.length >= compliments.length) return;\n    const remaining = compliments.filter(c => !drawnStars.find(s => s.text === c.text));\n    const random = remaining[Math.floor(Math.random() * remaining.length)];\n    const newStars = [...drawnStars, random];\n    setDrawnStars(newStars);\n    saveToLocalStorage(newStars);\n    await shake();\n  };\n\n  const shake = async () => {\n    if (!mounted.current) return;\n    await controls.start({ rotate: [0, -10, 10, -10, 10, 0], transition: { duration: 0.6 } });\n  };\n\n  const resetJar = () => {\n    setDrawnStars([]);\n    localStorage.removeItem('drawnStars');\n    localStorage.removeItem('unlockedCompliments');\n  };\n\n  return (\n    <div className=\"text-center px-4 py-6\">\n      <div className=\"flex justify-center mb-6\">\n        <motion.div animate={controls} className=\"relative w-40 h-60 sm:w-48 sm:h-72\">\n          <img src=\"/jar.png\" alt=\"Jar\" className=\"w-full h-full\" />\n          {drawnStars.map((star, i) => (\n            <motion.img\n              key={i}\n              src={star.image}\n              alt={star.text}\n              className=\"absolute w-8 h-8\"\n              style={{\n                top: `${30 + Math.random() * 80}px`,\n                left: `${30 + Math.random() * 80}px`,\n              }}\n            />\n          ))}\n        </motion.div>\n      </div>\n\n      <div className=\"flex justify-center space-x-4 mb-4\">\n        <button\n          className=\"bg-pink-200 hover:bg-pink-300 text-sm px-4 py-1 rounded-full\"\n          onClick={shake}\n        >\n          Shake me\n        </button>\n        <button\n          className=\"bg-gradient-to-r from-pink-300 to-purple-300 hover:opacity-90 text-white text-sm px-6 py-2 rounded-full\"\n          onClick={makeWish}\n        >\n          Make a wish! ✨\n        </button>\n        <button\n          className=\"bg-gray-300 hover:bg-gray-400 text-sm px-4 py-1 rounded-full\"\n          onClick={resetJar}\n        >\n          Reset Jar\n        </button>\n      </div>\n\n      {drawnStars.length > 0 && (\n        <div className=\"text-pink-700 font-bold text-lg mt-4\">\n          ✨ {drawnStars[drawnStars.length - 1].text} ✨\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}