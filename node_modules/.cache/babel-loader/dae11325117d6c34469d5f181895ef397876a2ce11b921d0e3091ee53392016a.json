{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import{motion,useAnimation}from'framer-motion';import compliments from'./complimentData';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const asset=p=>`${process.env.PUBLIC_URL}${p.startsWith('/')?p:`/${p}`}`;const APP_NS=(process.env.PUBLIC_URL||'')+':starjar';const KEYS={stars:`${APP_NS}:jarStars`,unlocked:`${APP_NS}:unlockedCompliments`,ver:`${APP_NS}:version`};const STORAGE_VERSION='1';const maskImageSrc=asset('/jar/spawn-mask.PNG');const createMaskContext=()=>{return new Promise(resolve=>{const img=new Image();img.src=maskImageSrc;img.onload=()=>{const canvas=document.createElement('canvas');canvas.width=300;canvas.height=300;const ctx=canvas.getContext('2d');if(ctx)ctx.drawImage(img,0,0,300,300);resolve(ctx);};img.onerror=()=>{console.warn('spawn-mask.PNG failed to load:',maskImageSrc);resolve(null);};});};const getNonOverlappingPosition=async function(existing){let radius=arguments.length>1&&arguments[1]!==undefined?arguments[1]:32;const ctx=await createMaskContext();if(!ctx)return{x:150,y:180};const halfSize=radius/2;let attempts=0;while(attempts<1000){const x=Math.floor(Math.random()*300);const y=Math.floor(Math.random()*300);const corners=[{x:x-halfSize,y:y-halfSize},{x:x+halfSize,y:y-halfSize},{x:x-halfSize,y:y+halfSize},{x:x+halfSize,y:y+halfSize}];const allValid=corners.every(_ref=>{let{x,y}=_ref;if(x<0||x>=300||y<0||y>=300)return false;const pixel=ctx.getImageData(x,y,1,1).data;return pixel[3]>=50;});const notTooClose=existing.every(pos=>{const dx=pos.x-x;const dy=pos.y-y;return dx*dx+dy*dy>radius*radius;});if(allValid&&notTooClose)return{x,y};attempts++;}return{x:150,y:180};};const Star=/*#__PURE__*/React.forwardRef((_ref2,ref)=>{let{src,x,y,updateFinalPosition}=_ref2;const swapPNGCase=function(){let url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return url.match(/\\.PNG$/)?url.replace(/\\.PNG$/,'.PNG'):url.match(/\\.PNG$/)?url.replace(/\\.PNG$/,'.PNG'):null;};const controls=useAnimation();const[mounted,setMounted]=useState(false);useEffect(()=>{controls.start({x:x-16,y:y-16,scale:[0,1.2,1],transition:{duration:0.0,ease:\"easeOut\"}});setMounted(true);},[x,y]);React.useImperativeHandle(ref,()=>({async shake(){if(!mounted)return;const ctx=await createMaskContext();if(!ctx)return;const starSize=32;const halfSize=starSize/2;let finalX=x;let finalY=y;for(let i=0;i<8;i++){let newX=finalX+(Math.random()-0.5)*20;let newY=finalY+(Math.random()-0.5)*20;const corners=[{x:newX-halfSize,y:newY-halfSize},{x:newX+halfSize,y:newY-halfSize},{x:newX-halfSize,y:newY+halfSize},{x:newX+halfSize,y:newY+halfSize}];const isValid=corners.every(_ref3=>{let{x,y}=_ref3;if(x<0||x>=300||y<0||y>=300)return false;const pixel=ctx.getImageData(x,y,1,1).data;return pixel[3]>=50;});if(!isValid)continue;await controls.start({x:newX-16,y:newY-16,transition:{duration:0.08}});finalX=newX;finalY=newY;}await controls.start({x:finalX-16,y:finalY-16,transition:{duration:0.4,ease:'easeOut'}});updateFinalPosition(finalX,finalY);}}));return/*#__PURE__*/_jsx(motion.img,{src:src,alt:\"star\",onError:e=>{// try the other case once\nconst swapped=swapPNGCase(e.currentTarget.src);if(swapped&&!e.currentTarget.dataset.caseTried){e.currentTarget.dataset.caseTried='1';e.currentTarget.src=swapped;return;}// final fallback\ne.currentTarget.onerror=null;e.currentTarget.src=asset('/stars/default.PNG');// match actual file case!\n},className:\"absolute w-8 h-8 pointer-events-none\",animate:controls,initial:{x:x-16,y:y-16,scale:0},style:{zIndex:5}});});export default function StarJar(_ref4){let{onComplimentUnlocked}=_ref4;const[stars,setStars]=useState([]);const[hasSpawned,setHasSpawned]=useState(false);const[wish,setWish]=useState('');const[showVideo,setShowVideo]=useState(false);const starRefs=useRef([]);const[showResetModal,setShowResetModal]=useState(false);const[passwordInput,setPasswordInput]=useState('');useEffect(()=>{try{const v=localStorage.getItem(KEYS.ver);if(v!==STORAGE_VERSION){// optional: migrate or clear\n// localStorage.removeItem(KEYS.stars);\n// localStorage.removeItem(KEYS.unlocked);\nlocalStorage.setItem(KEYS.ver,STORAGE_VERSION);}const saved=JSON.parse(localStorage.getItem(KEYS.stars)||'[]');if(Array.isArray(saved)&&saved.length>0){setStars(saved);// saved should be RELATIVE paths\nsetHasSpawned(true);// show the jar, not the Press me button\nstarRefs.current=saved.map(()=>/*#__PURE__*/React.createRef());}else{setHasSpawned(false);// no saved state -> show Press me\n}}catch(e){console.warn('Failed to load saved jar:',e);}},[]);useEffect(()=>{if(hasSpawned){localStorage.setItem('jarStars',JSON.stringify(stars));}},[stars,hasSpawned]);const spawnStars=async()=>{const generated=[];for(let i=0;i<compliments.length;i++){const pos=await getNonOverlappingPosition(generated);generated.push({id:`star-${i}`,src:compliments[i].image,x:pos.x,y:pos.y,compliment:compliments[i].text});}setStars(generated);setHasSpawned(true);setWish('');setShowVideo(false);starRefs.current=generated.map(()=>/*#__PURE__*/React.createRef());localStorage.setItem('jarStars',JSON.stringify(generated));};const updateStarPosition=(index,x,y)=>{setStars(prev=>{const updated=[...prev];updated[index]={...updated[index],x,y};return updated;});};const shakeStars=async()=>{await Promise.all(starRefs.current.map(ref=>{var _ref$current,_ref$current$shake;return(_ref$current=ref.current)===null||_ref$current===void 0?void 0:(_ref$current$shake=_ref$current.shake)===null||_ref$current$shake===void 0?void 0:_ref$current$shake.call(_ref$current);}));};const makeWish=async()=>{var _compliments$find;if(!hasSpawned||stars.length===0)return;const selectedIndex=Math.floor(Math.random()*stars.length);const selectedStar=stars[selectedIndex];await shakeStars();// ðŸ”„ Do shaking first before mutation\n// â—Ensure compliment is correct\nconst filename=url=>url.split('/').pop();// \"pink.PNG\"\nconst selectedFile=filename(selectedStar.src);const complimentText=(_compliments$find=compliments.find(c=>filename(c.image)===selectedFile))===null||_compliments$find===void 0?void 0:_compliments$find.text;if(!complimentText)return;// ðŸ”„ Now remove from refs + state\nstarRefs.current.splice(selectedIndex,1);setStars(prev=>{const updated=[...prev];updated.splice(selectedIndex,1);localStorage.setItem('jarStars',JSON.stringify(updated));return updated;});// ðŸ—‚ï¸ Update Dex\nconst prev=JSON.parse(localStorage.getItem('unlockedCompliments')||'[]');const updated=[...new Set([...prev,complimentText])];localStorage.setItem('unlockedCompliments',JSON.stringify(updated));setWish(complimentText);setShowVideo(true);};const resetJar=()=>{localStorage.removeItem('jarStars');localStorage.removeItem('unlockedCompliments');setStars([]);setHasSpawned(false);setWish(null);setShowVideo(false);setSelectedCompliment(null);setPasswordInput('');setShowResetModal(false);starRefs.current=[];};const[selectedCompliment,setSelectedCompliment]=useState(null);const handlePasswordSubmit=()=>{if(passwordInput==='kakalove0608'){resetJar();}else{alert('Why you trying to break the law');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mt-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-[300px] h-[300px]\",children:[/*#__PURE__*/_jsx(\"img\",{src:asset('/jar/back.PNG'),alt:\"jar back\",className:\"absolute inset-0 w-full h-full object-contain z-0\"}),stars.map((star,i)=>star!==null&&star!==void 0&&star.src?/*#__PURE__*/// âœ… Prevent broken image rendering\n_jsx(Star,{src:asset(star.src),x:star.x,y:star.y,ref:starRefs.current[i],updateFinalPosition:(x,y)=>updateStarPosition(i,x,y)},star.id):null),/*#__PURE__*/_jsx(\"img\",{src:asset('/jar/lid.PNG'),alt:\"jar lid\",className:\"absolute inset-0 w-full h-full object-contain z-10\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 mt-6 flex-wrap justify-center\",children:!hasSpawned?/*#__PURE__*/_jsx(motion.button,{className:\"bg-[#D8D1EF] hover:bg-[#CFC6EA] text-[#5C5575] text-lg px-6 py-3 rounded-full shadow-md font-semibold transition hover:scale-105 duration-200 ease-out backdrop-blur-sm border border-[#E9E3F9]\",onClick:spawnStars,children:\"Press me!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(motion.button,{className:\"bg-white/30 backdrop-blur-md border border-[#D1D9EC] text-sm text-[#555] px-4 py-2 rounded-full shadow-sm hover:bg-white/50 hover:scale-105 transition\",onClick:shakeStars,children:\"Shake me\"}),/*#__PURE__*/_jsx(motion.button,{className:\"bg-[#bdaddb] hover:bg-[#b2d0f7] text-white  text-lg px-6 py-3 rounded-full font-semibold  shadow-md transition hover:scale-105 disabled:opacity-50\",onClick:makeWish,disabled:stars.length===0,children:\"Make a wish! \\u2728\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-7 text-center h-24 flex items-center justify-center\",children:[showVideo&&/*#__PURE__*/_jsxs(\"video\",{playsInline:true,autoPlay:true,muted:true,disablePictureInPicture:true,className:\"w-49 h-36 object-contain\",onEnded:()=>setShowVideo(false),children:[/*#__PURE__*/_jsx(\"source\",{src:asset('/stars/unravel.mp4'),type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}),!showVideo&&wish&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex flex-col items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-[#6D679D] text-xl font-semibold\",children:[\"\\u2728 \",wish,\" \\u2728\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const complimentObj=compliments.find(c=>c.text===wish);setSelectedCompliment({text:(complimentObj===null||complimentObj===void 0?void 0:complimentObj.text)||wish,image:asset((complimentObj===null||complimentObj===void 0?void 0:complimentObj.image)||'/stars/default.PNG'),description:(complimentObj===null||complimentObj===void 0?void 0:complimentObj.description)||'This star reflects one of your amazing qualities ðŸ’« Keep collecting more!',locked:false});},className:\"mt-1 px-3 py-1 rounded-full text-sm bg-white text-[#6D679D] border border-[#d6d2e8] hover:bg-[#f3f0fa] transition\",children:\"Read more\"})]})]}),selectedCompliment&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 max-w-sm w-full relative text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 text-gray-400 hover:text-gray-600\",onClick:()=>setSelectedCompliment(null),children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"img\",{src:selectedCompliment.image,alt:selectedCompliment.text,className:\"w-16 h-16 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-[#6D679D]\",children:selectedCompliment.text}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:selectedCompliment.description})]})}),hasSpawned&&/*#__PURE__*/_jsx(\"button\",{className:\"fixed bottom-4 right-4 bg-[#D3DCE6] hover:bg-[#C6D0DB] text-sm text-black px-4 py-2 rounded-full shadow z-50\",onClick:()=>setShowResetModal(true),children:\"Reset Jar\"}),showResetModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg w-80 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Enter password to reset\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordInput,onChange:e=>setPasswordInput(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded mb-4\",placeholder:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded\",onClick:()=>setShowResetModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\",onClick:handlePasswordSubmit,children:\"Confirm\"})]})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","motion","useAnimation","compliments","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","asset","p","process","env","PUBLIC_URL","startsWith","APP_NS","KEYS","stars","unlocked","ver","STORAGE_VERSION","maskImageSrc","createMaskContext","Promise","resolve","img","Image","src","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","onerror","console","warn","getNonOverlappingPosition","existing","radius","arguments","length","undefined","x","y","halfSize","attempts","Math","floor","random","corners","allValid","every","_ref","pixel","getImageData","data","notTooClose","pos","dx","dy","Star","forwardRef","_ref2","ref","updateFinalPosition","swapPNGCase","url","match","replace","controls","mounted","setMounted","start","scale","transition","duration","ease","useImperativeHandle","shake","starSize","finalX","finalY","i","newX","newY","isValid","_ref3","alt","onError","e","swapped","currentTarget","dataset","caseTried","className","animate","initial","style","zIndex","StarJar","_ref4","onComplimentUnlocked","setStars","hasSpawned","setHasSpawned","wish","setWish","showVideo","setShowVideo","starRefs","showResetModal","setShowResetModal","passwordInput","setPasswordInput","v","localStorage","getItem","setItem","saved","JSON","parse","Array","isArray","current","map","createRef","stringify","spawnStars","generated","push","id","image","compliment","text","updateStarPosition","index","prev","updated","shakeStars","all","_ref$current","_ref$current$shake","call","makeWish","_compliments$find","selectedIndex","selectedStar","filename","split","pop","selectedFile","complimentText","find","c","splice","Set","resetJar","removeItem","setSelectedCompliment","selectedCompliment","handlePasswordSubmit","alert","children","star","button","onClick","disabled","playsInline","autoPlay","muted","disablePictureInPicture","onEnded","type","complimentObj","description","locked","value","onChange","target","placeholder"],"sources":["/Users/kakalee/Desktop/May projects/lucky-star-jar/src/StarJar.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\n\nimport compliments from './complimentData'; \n\nconst asset = (p) => `${process.env.PUBLIC_URL}${p.startsWith('/') ? p : `/${p}`}`;\n\nconst APP_NS = (process.env.PUBLIC_URL || '') + ':starjar';\nconst KEYS = {\n  stars: `${APP_NS}:jarStars`,\n  unlocked: `${APP_NS}:unlockedCompliments`,\n  ver: `${APP_NS}:version`,\n};\nconst STORAGE_VERSION = '1';\n\nconst maskImageSrc = asset('/jar/spawn-mask.PNG');\n\nconst createMaskContext = () => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.src = maskImageSrc;\n\n    img.onload = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = 300;\n      canvas.height = 300;\n      const ctx = canvas.getContext('2d');\n      if (ctx) ctx.drawImage(img, 0, 0, 300, 300);\n      resolve(ctx);\n    };\n\n    img.onerror = () => {\n      console.warn('spawn-mask.PNG failed to load:', maskImageSrc);\n      resolve(null);\n    };\n  });\n};\n\nconst getNonOverlappingPosition = async (existing, radius = 32) => {\n  const ctx = await createMaskContext();\n  if (!ctx) return { x: 150, y: 180 };\n\n  const halfSize = radius / 2;\n  let attempts = 0;\n\n  while (attempts < 1000) {\n    const x = Math.floor(Math.random() * 300);\n    const y = Math.floor(Math.random() * 300);\n\n    const corners = [\n      { x: x - halfSize, y: y - halfSize },\n      { x: x + halfSize, y: y - halfSize },\n      { x: x - halfSize, y: y + halfSize },\n      { x: x + halfSize, y: y + halfSize },\n    ];\n\n    const allValid = corners.every(({ x, y }) => {\n      if (x < 0 || x >= 300 || y < 0 || y >= 300) return false;\n      const pixel = ctx.getImageData(x, y, 1, 1).data;\n      return pixel[3] >= 50;\n    });\n\n    const notTooClose = existing.every((pos) => {\n      const dx = pos.x - x;\n      const dy = pos.y - y;\n      return dx * dx + dy * dy > radius * radius;\n    });\n\n    if (allValid && notTooClose) return { x, y };\n    attempts++;\n  }\n\n  return { x: 150, y: 180 };\n};\n\nconst Star = React.forwardRef(({ src, x, y, updateFinalPosition }, ref) => {\n  const swapPNGCase = (url='') =>\n    url.match(/\\.PNG$/) ? url.replace(/\\.PNG$/, '.PNG')\n    : url.match(/\\.PNG$/) ? url.replace(/\\.PNG$/, '.PNG')\n    : null;\n  \n    const controls = useAnimation();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    controls.start({\n      x: x - 16,\n      y: y - 16,\n      scale: [0, 1.2, 1],\n      transition: { duration: 0.0, ease: \"easeOut\" }\n    });\n    setMounted(true);\n  }, [x, y]);\n\n  React.useImperativeHandle(ref, () => ({\n    async shake() {\n      if (!mounted) return;\n\n      const ctx = await createMaskContext();\n      if (!ctx) return;\n\n      const starSize = 32;\n      const halfSize = starSize / 2;\n\n      let finalX = x;\n      let finalY = y;\n\n      for (let i = 0; i < 8; i++) {\n        let newX = finalX + (Math.random() - 0.5) * 20;\n        let newY = finalY + (Math.random() - 0.5) * 20;\n\n        const corners = [\n          { x: newX - halfSize, y: newY - halfSize },\n          { x: newX + halfSize, y: newY - halfSize },\n          { x: newX - halfSize, y: newY + halfSize },\n          { x: newX + halfSize, y: newY + halfSize },\n        ];\n\n        const isValid = corners.every(({ x, y }) => {\n          if (x < 0 || x >= 300 || y < 0 || y >= 300) return false;\n          const pixel = ctx.getImageData(x, y, 1, 1).data;\n          return pixel[3] >= 50;\n        });\n\n        if (!isValid) continue;\n\n        await controls.start({\n          x: newX - 16,\n          y: newY - 16,\n          transition: { duration: 0.08 }\n        });\n\n        finalX = newX;\n        finalY = newY;\n      }\n\n      await controls.start({\n        x: finalX - 16,\n        y: finalY - 16,\n        transition: { duration: 0.4, ease: 'easeOut' }\n      });\n\n      updateFinalPosition(finalX, finalY);\n    }\n  }));\n\n  return (\n    <motion.img\n      src={src}\n      alt=\"star\"\n      onError={(e) => {\n        // try the other case once\n        const swapped = swapPNGCase(e.currentTarget.src);\n        if (swapped && !e.currentTarget.dataset.caseTried) {\n          e.currentTarget.dataset.caseTried = '1';\n          e.currentTarget.src = swapped;\n          return;\n        }\n        // final fallback\n        e.currentTarget.onerror = null;\n        e.currentTarget.src = asset('/stars/default.PNG'); // match actual file case!\n        }}\n      className=\"absolute w-8 h-8 pointer-events-none\"\n      animate={controls}\n      initial={{ x: x - 16, y: y - 16, scale: 0 }}\n      style={{ zIndex: 5 }}\n    />\n  );\n});\n\nexport default function StarJar({ onComplimentUnlocked }) {\n  const [stars, setStars] = useState([]);\n  const [hasSpawned, setHasSpawned] = useState(false);\n  const [wish, setWish] = useState('');\n  const [showVideo, setShowVideo] = useState(false);\n  const starRefs = useRef([]);\n  const [showResetModal, setShowResetModal] = useState(false);\n  const [passwordInput, setPasswordInput] = useState('');\n\nuseEffect(() => {\n  try {\n    const v = localStorage.getItem(KEYS.ver);\n    if (v !== STORAGE_VERSION) {\n      // optional: migrate or clear\n      // localStorage.removeItem(KEYS.stars);\n      // localStorage.removeItem(KEYS.unlocked);\n      localStorage.setItem(KEYS.ver, STORAGE_VERSION);\n    }\n    const saved = JSON.parse(localStorage.getItem(KEYS.stars) || '[]');\n    if (Array.isArray(saved) && saved.length > 0) {\n      setStars(saved); // saved should be RELATIVE paths\n      setHasSpawned(true); // show the jar, not the Press me button\n      starRefs.current = saved.map(() => React.createRef());\n    } else {\n      setHasSpawned(false); // no saved state -> show Press me\n    }\n  } catch (e) {\n    console.warn('Failed to load saved jar:', e);\n  }\n}, []);\n\n\n  useEffect(() => {\n    if (hasSpawned) {\n      localStorage.setItem('jarStars', JSON.stringify(stars));\n    }\n  }, [stars, hasSpawned]);\n\n  const spawnStars = async () => {\n    const generated = [];\n    for (let i = 0; i < compliments.length; i++) {\n      const pos = await getNonOverlappingPosition(generated);\n      generated.push({\n        id: `star-${i}`,\n        src: compliments[i].image,\n        x: pos.x,\n        y: pos.y,\n        compliment: compliments[i].text\n      });\n    }\n    setStars(generated);\n    setHasSpawned(true);\n    setWish('');\n    setShowVideo(false);\n    starRefs.current = generated.map(() => React.createRef());\n    localStorage.setItem('jarStars', JSON.stringify(generated));\n  };\n\n  const updateStarPosition = (index, x, y) => {\n    setStars((prev) => {\n      const updated = [...prev];\n      updated[index] = { ...updated[index], x, y };\n      return updated;\n    });\n  };\n\n  const shakeStars = async () => {\n    await Promise.all(\n      starRefs.current.map(ref => ref.current?.shake?.())\n    );\n  };\n\n  const makeWish = async () => {\n    if (!hasSpawned || stars.length === 0) return;\n  \n    const selectedIndex = Math.floor(Math.random() * stars.length);\n    const selectedStar = stars[selectedIndex];\n  \n    await shakeStars(); // ðŸ”„ Do shaking first before mutation\n  \n    // â—Ensure compliment is correct\n    const filename = (url) => url.split('/').pop(); // \"pink.PNG\"\nconst selectedFile = filename(selectedStar.src);\n\nconst complimentText =\n  compliments.find(c => filename(c.image) === selectedFile)?.text;\nif (!complimentText) return;\n  \n    // ðŸ”„ Now remove from refs + state\n    starRefs.current.splice(selectedIndex, 1);\n    setStars((prev) => {\n      const updated = [...prev];\n      updated.splice(selectedIndex, 1);\n      localStorage.setItem('jarStars', JSON.stringify(updated));\n      return updated;\n    });\n  \n    // ðŸ—‚ï¸ Update Dex\n    const prev = JSON.parse(localStorage.getItem('unlockedCompliments') || '[]');\n    const updated = [...new Set([...prev, complimentText])];\n    localStorage.setItem('unlockedCompliments', JSON.stringify(updated));\n  \n    setWish(complimentText);\n    setShowVideo(true);\n\n  };  \n\n  const resetJar = () => {\n    localStorage.removeItem('jarStars');\n    localStorage.removeItem('unlockedCompliments');\n    setStars([]);\n    setHasSpawned(false);\n    setWish(null);\n    setShowVideo(false);\n    setSelectedCompliment(null);\n    setPasswordInput('');\n    setShowResetModal(false);\n    starRefs.current = [];\n  };\n\n  const [selectedCompliment, setSelectedCompliment] = useState(null);\n\n  const handlePasswordSubmit = () => {\n    if (passwordInput === 'kakalove0608') {\n      resetJar();\n    } else {\n      alert('Why you trying to break the law');\n    }\n  };\n  \n  return (\n    <div className=\"flex flex-col items-center mt-10\">\n      <div className=\"relative w-[300px] h-[300px]\">\n        <img src={asset('/jar/back.PNG')} alt=\"jar back\" className=\"absolute inset-0 w-full h-full object-contain z-0\" />\n        {stars.map((star, i) =>\n          star?.src ? ( // âœ… Prevent broken image rendering\n            <Star\n              key={star.id}\n              src={asset(star.src)}\n              x={star.x}\n              y={star.y}\n              ref={starRefs.current[i]}\n              updateFinalPosition={(x, y) => updateStarPosition(i, x, y)}\n            />\n          ) : null\n        )}\n        <img src={asset('/jar/lid.PNG')} alt=\"jar lid\" className=\"absolute inset-0 w-full h-full object-contain z-10\" />\n      </div>\n\n      <div className=\"flex gap-4 mt-6 flex-wrap justify-center\">\n        {!hasSpawned ? (\n         <motion.button\n         className=\"bg-[#D8D1EF] hover:bg-[#CFC6EA]\n                    text-[#5C5575] text-lg px-6 py-3 rounded-full\n                    shadow-md font-semibold transition\n                    hover:scale-105 duration-200 ease-out\n                    backdrop-blur-sm border border-[#E9E3F9]\"\n         onClick={spawnStars}\n       >\n         Press me!\n       </motion.button>\n       \n        ) : (\n          <>\n            <motion.button\n            className=\"bg-white/30 backdrop-blur-md\n                        border border-[#D1D9EC] text-sm text-[#555]\n                        px-4 py-2 rounded-full shadow-sm\n                        hover:bg-white/50 hover:scale-105 transition\"\n            onClick={shakeStars}\n            >\n            Shake me\n            </motion.button>\n\n            \n            <motion.button\n            className=\"bg-[#bdaddb] hover:bg-[#b2d0f7] text-white \n                        text-lg px-6 py-3 rounded-full font-semibold \n                        shadow-md transition hover:scale-105 disabled:opacity-50\"\n            onClick={makeWish}\n            disabled={stars.length === 0}\n            >\n            Make a wish! âœ¨\n            </motion.button>\n          </>\n        )}\n      </div>\n\n      <div className=\"mt-7 text-center h-24 flex items-center justify-center\">\n      {showVideo && (\n          <video\n            playsInline\n            autoPlay\n            muted\n            disablePictureInPicture\n            className=\"w-49 h-36 object-contain\"\n            onEnded={() => setShowVideo(false)}\n          >\n            <source src={asset('/stars/unravel.mp4')} type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        )}\n        {!showVideo && wish && (\n          <div className=\"text-center flex flex-col items-center gap-2\">\n            <p className=\"text-[#6D679D] text-xl font-semibold\">âœ¨ {wish} âœ¨</p>\n            <button\n              onClick={() => {\n                const complimentObj = compliments.find(c => c.text === wish);\n\n                setSelectedCompliment({\n                  text: complimentObj?.text || wish,\n                  image: asset(complimentObj?.image || '/stars/default.PNG'),\n                  description:\n                    complimentObj?.description ||\n                    'This star reflects one of your amazing qualities ðŸ’« Keep collecting more!',\n                  locked: false,\n                });\n              }}\n              className=\"mt-1 px-3 py-1 rounded-full text-sm bg-white text-[#6D679D] border border-[#d6d2e8] hover:bg-[#f3f0fa] transition\"\n            >\n              Read more\n            </button>\n          </div>\n        )}\n\n      </div>\n\n      {selectedCompliment && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm\">\n          <div className=\"bg-white rounded-xl shadow-lg p-6 max-w-sm w-full relative text-center\">\n            <button\n              className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-600\"\n              onClick={() => setSelectedCompliment(null)}\n            >\n              âœ•\n            </button>\n            <img\n              src={selectedCompliment.image}\n              alt={selectedCompliment.text}\n              className=\"w-16 h-16 mx-auto mb-4\"\n            />\n            <h3 className=\"text-lg font-bold text-[#6D679D]\">{selectedCompliment.text}</h3>\n            <p className=\"text-sm text-gray-500 mt-2\">\n            {selectedCompliment.description}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Reset Button Fixed Bottom Right */}\n      {hasSpawned && (\n        <button\n          className=\"fixed bottom-4 right-4 bg-[#D3DCE6] hover:bg-[#C6D0DB] text-sm text-black px-4 py-2 rounded-full shadow z-50\"\n          onClick={() => setShowResetModal(true)}\n        >\n          Reset Jar\n        </button>\n      )}\n\n      {/* Password Reset Modal */}\n      {showResetModal && (\n        <div className=\"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-80 text-center\">\n            <h3 className=\"text-lg font-semibold mb-4\">Enter password to reset</h3>\n            <input\n              type=\"password\"\n              value={passwordInput}\n              onChange={(e) => setPasswordInput(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded mb-4\"\n              placeholder=\"Password\"\n            />\n            <div className=\"flex justify-center gap-4\">\n              <button\n                className=\"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded\"\n                onClick={() => setShowResetModal(false)}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\"\n                onClick={handlePasswordSubmit}\n              >\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}