{"ast":null,"code":"var _jsxFileName = \"/Users/kakalee/Desktop/May projects/lucky-star-jar/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst starImages = ['/stars/1.png', '/stars/2.png', '/stars/3.png', '/stars/4.png', '/stars/5.png'];\nconst maskPath = '/jar/spawn-mask.png'; // make sure it's in /public/jar/\n\nconst getRandomPositionFromMask = async maskPath => {\n  return new Promise(resolve => {\n    const img = new Image();\n    img.src = maskPath;\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img, 0, 0);\n      const {\n        width,\n        height\n      } = canvas;\n      let x, y, pixel;\n      do {\n        x = Math.floor(Math.random() * width);\n        y = Math.floor(Math.random() * height);\n        pixel = ctx.getImageData(x, y, 1, 1).data;\n      } while (pixel[3] < 100); // skip transparent areas\n\n      resolve({\n        x,\n        y\n      });\n    };\n  });\n};\nconst Star = ({\n  src,\n  x,\n  y\n}) => {\n  _s();\n  const controls = useAnimation();\n  const shake = async () => {\n    for (let i = 0; i < 5; i++) {\n      await controls.start({\n        x: x + Math.random() * 20 - 10,\n        y: y + Math.random() * 20 - 10,\n        transition: {\n          duration: 0.1\n        }\n      });\n    }\n    await controls.start({\n      x,\n      y\n    });\n  };\n  useEffect(() => {\n    shake();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(motion.img, {\n    src: src,\n    alt: \"\",\n    className: \"absolute w-12 h-12\",\n    animate: controls,\n    initial: {\n      x,\n      y\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(Star, \"6pZ2lBElA3YLtcQOKE/nS/LmH94=\", false, function () {\n  return [useAnimation];\n});\n_c = Star;\nexport default function StarJar() {\n  _s2();\n  const [stars, setStars] = useState([]);\n  const [shakeCount, setShakeCount] = useState(0);\n  useEffect(() => {\n    const generateStars = async () => {\n      const generated = [];\n      for (let i = 0; i < 5; i++) {\n        const pos = await getRandomPositionFromMask(maskPath);\n        generated.push({\n          src: starImages[i % starImages.length],\n          x: pos.x,\n          y: pos.y\n        });\n      }\n      setStars(generated);\n    };\n    generateStars();\n  }, [shakeCount]);\n  const handleShake = () => {\n    setShakeCount(prev => prev + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-[300px] h-[300px] mx-auto mt-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/jar/back.png\",\n      alt: \"\",\n      className: \"absolute z-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), stars.map((star, i) => /*#__PURE__*/_jsxDEV(Star, {\n      src: star.src,\n      x: star.x,\n      y: star.y\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/jar/front.png\",\n      alt: \"\",\n      className: \"absolute z-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"absolute bottom-[-60px] left-1/2 -translate-x-1/2 bg-pink-300 px-4 py-2 rounded-full shadow\",\n      onClick: handleShake,\n      children: \"Shake!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n_s2(StarJar, \"ITtDqRiaMk9vvb0k7Q3lKMQly5k=\");\n_c2 = StarJar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Star\");\n$RefreshReg$(_c2, \"StarJar\");","map":{"version":3,"names":["React","useEffect","useState","motion","useAnimation","jsxDEV","_jsxDEV","starImages","maskPath","getRandomPositionFromMask","Promise","resolve","img","Image","src","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","x","y","pixel","Math","floor","random","getImageData","data","Star","_s","controls","shake","i","start","transition","duration","alt","className","animate","initial","fileName","_jsxFileName","lineNumber","columnNumber","_c","StarJar","_s2","stars","setStars","shakeCount","setShakeCount","generateStars","generated","pos","push","length","handleShake","prev","children","map","star","onClick","_c2","$RefreshReg$"],"sources":["/Users/kakalee/Desktop/May projects/lucky-star-jar/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\n\nconst starImages = [\n  '/stars/1.png',\n  '/stars/2.png',\n  '/stars/3.png',\n  '/stars/4.png',\n  '/stars/5.png'\n];\n\nconst maskPath = '/jar/spawn-mask.png'; // make sure it's in /public/jar/\n\nconst getRandomPositionFromMask = async (maskPath) => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.src = maskPath;\n\n    img.onload = () => {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = img.width;\n      canvas.height = img.height;\n\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img, 0, 0);\n\n      const { width, height } = canvas;\n      let x, y, pixel;\n\n      do {\n        x = Math.floor(Math.random() * width);\n        y = Math.floor(Math.random() * height);\n        pixel = ctx.getImageData(x, y, 1, 1).data;\n      } while (pixel[3] < 100); // skip transparent areas\n\n      resolve({ x, y });\n    };\n  });\n};\n\nconst Star = ({ src, x, y }) => {\n  const controls = useAnimation();\n\n  const shake = async () => {\n    for (let i = 0; i < 5; i++) {\n      await controls.start({\n        x: x + Math.random() * 20 - 10,\n        y: y + Math.random() * 20 - 10,\n        transition: { duration: 0.1 },\n      });\n    }\n    await controls.start({ x, y });\n  };\n\n  useEffect(() => {\n    shake();\n  }, []);\n\n  return (\n    <motion.img\n      src={src}\n      alt=\"\"\n      className=\"absolute w-12 h-12\"\n      animate={controls}\n      initial={{ x, y }}\n    />\n  );\n};\n\nexport default function StarJar() {\n  const [stars, setStars] = useState([]);\n  const [shakeCount, setShakeCount] = useState(0);\n\n  useEffect(() => {\n    const generateStars = async () => {\n      const generated = [];\n      for (let i = 0; i < 5; i++) {\n        const pos = await getRandomPositionFromMask(maskPath);\n        generated.push({\n          src: starImages[i % starImages.length],\n          x: pos.x,\n          y: pos.y,\n        });\n      }\n      setStars(generated);\n    };\n\n    generateStars();\n  }, [shakeCount]);\n\n  const handleShake = () => {\n    setShakeCount((prev) => prev + 1);\n  };\n\n  return (\n    <div className=\"relative w-[300px] h-[300px] mx-auto mt-10\">\n      {/* back of jar */}\n      <img src=\"/jar/back.png\" alt=\"\" className=\"absolute z-0\" />\n\n      {/* stars */}\n      {stars.map((star, i) => (\n        <Star key={i} src={star.src} x={star.x} y={star.y} />\n      ))}\n\n      {/* front rim of jar */}\n      <img src=\"/jar/front.png\" alt=\"\" className=\"absolute z-10\" />\n\n      {/* shake button */}\n      <button\n        className=\"absolute bottom-[-60px] left-1/2 -translate-x-1/2 bg-pink-300 px-4 py-2 rounded-full shadow\"\n        onClick={handleShake}\n      >\n        Shake!\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}